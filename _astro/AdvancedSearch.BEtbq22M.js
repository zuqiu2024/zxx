import{p as W,o as ue,i as he,s as X,r as xe}from"./props.CFp1PoRn.js";import{f as u,a as A,t as S,g as i,e as _e,b as d,p as be,c as ge,s as c,d as g,u as m,h as y,m as E,i as r,r as a,j as Y}from"./utils.BUOTzkNE.js";import{s as R}from"./render.DrVGAan2.js";import{i as P}from"./if.D48hGaIU.js";import{e as ye,i as we}from"./each.YV9WMojM.js";import{I as N,h as Z}from"./Icon.C6e8Bd3Z.js";import{b as ke}from"./input.CRUyF9GO.js";import{I as p}from"./zh_TW.Bl-Ke2VL.js";import{i as f}from"./translation.C9zUeTiQ.js";import{u as $}from"./url-utils.BYYtzi61.js";/* empty css                        */import"./branches.0nLXAaZu.js";import"./navBarConfig.Bx7Aaq8G.js";var Se=u('<p class="text-base text-50 leading-relaxed"> </p>'),Ie=u('<div class="flex justify-center py-10"><!></div>'),Re=u('<div class="card-base p-6 block rounded-[var(--radius-large)]"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-[var(--primary)] transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),Pe=u('<div class="space-y-4"></div>'),Te=u('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),je=u('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),ze=u('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-[var(--radius-large)]"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-[var(--primary)] focus:border-[var(--primary)] hover:border-black/20 dark:hover:border-white/20 text-75 placeholder-50 transition-colors outline-0"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function Je(ee,T){ge(T,!1);let ae=W(T,"title",24,()=>f(p.search)),U=W(T,"description",8,""),n=E(""),h=E([]),j=E(!1),B=!1;const re=()=>typeof window<"u"&&new URLSearchParams(window.location.search).get("q")||"",Ke=[{url:$("/"),meta:{title:"Dev Mode Search Result 1"},excerpt:"This is a <mark>mock</mark> result for development."},{url:$("/"),meta:{title:"Dev Mode Search Result 2"},excerpt:"Pagefind only works in <mark>production</mark> build."}],C=async()=>{if(!B||!i(n).trim()){c(h,[]);return}c(j,!0);try{if(window.pagefind){const e=await window.pagefind.search(i(n)),t=await Promise.all(e.results.map(v=>v.data()));c(h,t)}}catch(e){console.error("Search error:",e),c(h,[])}finally{c(j,!1)}};ue(()=>{const e=async()=>{B=!0;const t=re();t&&c(n,t),i(n).trim()&&await C()};window.pagefind?e():document.addEventListener("pagefindready",e,{once:!0})});let F;const te=()=>{clearTimeout(F),F=setTimeout(()=>{C()},300)};he();var G=ze(),z=A(G),K=r(z),M=r(K),D=r(M),ie=r(D);N(ie,{icon:"material-symbols:search",class:"text-[1.5rem]"}),a(D);var H=g(D,2),se=r(H,!0);a(H),a(M);var oe=g(M,2);{var de=e=>{var t=Se(),v=r(t,!0);a(t),S(()=>R(v,U())),d(e,t)};P(oe,e=>{U()&&e(de)})}a(K);var J=g(K,2),O=r(J),L=r(O),le=r(L);N(le,{icon:"material-symbols:search",class:"text-2xl text-50"}),a(L);var I=g(L,2);xe(I),a(O),a(J),a(z);var Q=g(z,2),V=r(Q),ne=r(V);{var ve=e=>{var t=Ie(),v=r(t);N(v,{icon:"svg-spinners:ring-resize",class:"text-4xl text-[var(--primary)]"}),a(t),d(e,t)},ce=e=>{var t=Y(),v=A(t);{var me=x=>{var _=Pe();ye(_,5,()=>i(h),we,(q,l)=>{var w=Re(),o=r(w),s=r(o),k=r(s);Z(k,()=>(i(l),m(()=>i(l).meta.title))),a(s);var b=g(s,2),fe=r(b);Z(fe,()=>(i(l),m(()=>i(l).excerpt))),a(b),a(o),a(w),S(()=>X(o,"href",(i(l),m(()=>i(l).url)))),d(q,w)}),a(_),d(x,_)},pe=x=>{var _=Y(),q=A(_);{var l=o=>{var s=Te(),k=r(s,!0);a(s),S(b=>R(k,b),[()=>(y(f),y(p),m(()=>f(p.searchNoResults)))]),d(o,s)},w=o=>{var s=je(),k=r(s,!0);a(s),S(b=>R(k,b),[()=>(y(f),y(p),m(()=>f(p.searchTypeSomething)))]),d(o,s)};P(q,o=>{i(n)?o(l):o(w,!1)},!0)}d(x,_)};P(v,x=>{i(h),m(()=>i(h).length>0)?x(me):x(pe,!1)},!0)}d(e,t)};P(ne,e=>{i(j)?e(ve):e(ce,!1)})}a(V),a(Q),S(e=>{R(se,ae()),X(I,"placeholder",e)},[()=>(y(f),y(p),m(()=>f(p.search)))]),ke(I,()=>i(n),e=>c(n,e)),_e("input",I,te),d(ee,G),be()}export{Je as default};
